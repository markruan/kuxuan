<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"
    />
    <meta
      name="format-detection"
      content="telephone=no,email=no,date=no,address=no"
    />
    <title>Hui</title>
    <link href="../css/Hui.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
      .H-margin-vertical-top-30 {
        margin-top: 35px;
      }

      #bgg {
        background-image: url(../image/bg2.jpg);
      }

      .H-touch-active {
      }

      .H-touch-active:active {
        background: hsla(14, 100%, 57%, 0.74);
      }
    </style>
  </head>

  <body
    id="bgg"
    class="H-theme-background-transparent H-height-100-percent"
    style="padding-right: 100px"
  >
    <div
      class="H-overflow-hidden H-max-width-100-percent H-padding-horizontal-both-10 H-box-sizing-border-box"
    >
      <div
        class="picture H-position-relative H-margin-horizontal-auto H-margin-vertical-top-30"
        style="width: 96px; height: 96px"
      >
        <img
          id="icon"
          src="../image/qq.png"
          class="H-display-block H-border-radius-circle H-paper-3"
          alt=""
          title=""
          style="
            width: 90px;
            height: 90px;
            border: 3px solid rgba(255, 255, 255, 0.3);
          "
        />
      </div>
      <strong
        id="name"
        class="H-display-block H-font-weight-normal H-font-weight-500 H-font-size-18 H-theme-font-color-white H-text-align-center H-margin-vertical-both-8"
        >酷选</strong
      >
      <div
        id="signature"
        class="H-text-align-center H-font-size-12 H-theme-font-color-white H-text-show-row-1"
      >
        聆听音乐 感悟人生
      </div>
    </div>
    <hr/ style="height:1px;border:none;border-top:1px solid #D43C33;">
    <div
      id="logindiv"
      tapmode=""
      onclick="openLogin()"
      class="H-text-list H-flexbox-horizontal H-theme-background-transparent H-vertical-middle H-touch-active"
      style=""
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-user-set H-font-size-20 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        id="uss"
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-theme-font-color-white H-padding-vertical-both-12"
      >
        登陆
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>
    <div
      tapmode
      onclick="openSetTime()"
      class="H-text-list H-flexbox-horizontal H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-time H-font-size-22 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        定时
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>
    <div
      tapmode
      onclick="openMsg() "
      id="msg"
      class="H-text-list H-flexbox-horizontal H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-review H-font-size-22 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        我的消息
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-ccc H-font-size-14 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
    </div>
    <div
      tapmode=""
      onclick="openWin('localmusic', '播放历史') "
      class="H-text-list H-flexbox-horizontal H-theme-background-transparent H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-cloud-download-fill H-font-size-20 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        播放历史
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>

    <div
      tapmode=""
      onclick="startZhiChi() "
      class="H-text-list H-flexbox-horizontal H-theme-background-transparent H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-pen H-font-size-20 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        意见反馈
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>

    <div
      tapmode
      onclick="openWin('index', '设置')"
      class="H-text-list H-flexbox-horizontal H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-setting H-font-size-22 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        设置
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>
    <div
      tapmode=""
      onclick="openWin('about-con', '关于我们')"
      class="H-text-list H-flexbox-horizontal H-theme-background-transparent H-vertical-middle H-touch-active"
    >
      <span class="H-icon H-display-block H-margin-horizontal-left-10"
        ><i
          class="H-iconfont H-icon-group-user H-font-size-20 H-vertical-middle H-theme-font-color-white"
        ></i
      ></span>
      <div
        class="H-flex-item H-padding-horizontal-both-10 H-font-size-16 H-padding-vertical-both-12 H-theme-font-color-white"
      >
        关于我们
      </div>
      <span class="H-icon H-padding-horizontal-right-5 H-display-block"
        ><i
          class="H-iconfont H-icon-arrow-right H-theme-font-color-white H-font-size-14 H-vertical-middle"
        ></i
      ></span>
    </div>
    <script src="../script/H.js" type="text/javascript"></script>
    <script src="../script/api.js" type="text/javascript"></script>
    <script type="text/javascript">
      var uss = $api.byId("logindiv");

      function openLogin() {
        api.openWin({
          name: "login",
          url: "entry/entry_head.html",
          bgColor: "widget://image/1.jpg",
          animation: {
            type: "movein", //动画类型（详见动画类型常量）
            subType: "from_right", //动画子类型（详见动画子类型常量）
            duration: 400, //动画过渡时间，默认300毫秒
          },
        });
      }

      function intt() {
        var userinfo = $api.getStorage("userinfo");
        // console.log(JSON.stringify(userinfo));
        if (userinfo) {
          var icon = userinfo.avatarUrl;
          var signature = userinfo.signature;
          var name = userinfo.nickname;
          $api.attr($api.byId("icon"), "src", icon);
          $api.text($api.byId("name"), name);
          $api.text($api.byId("signature"), signature);
          $api.attr(uss, "style", "display:none");
        } else {
          $api.attr($api.byId("msg"), "style", "display:none");
          return;
        }
      }

      H.ready(function () {
        intt();

        api.addEventListener(
          {
            name: "updateuserinfo",
          },
          function (ret, err) {
            if (!$api.getStorage("userinfo")) {
              $api.attr(uss, "style", "");
              var name = "酷选";
              var icon = "../image/qq.png";
              var signature = "聆听音乐 感悟人生";
              $api.attr($api.byId("icon"), "src", icon);
              $api.text($api.byId("name"), name);
              $api.text($api.byId("signature"), signature);
            } else {
              $api.attr(uss, "style", "display: none");
            }
          }
        );
        api.addEventListener(
          {
            name: "reg_login_successEvent",
          },
          function (ret, err) {
            intt();
          }
        );
      });

      function openWin(id, title) {
        if (!panduan()) {
        } else {
          var data = {
            id: id,
            title: title,
          };
          api.openWin({
            name: id + "win",
            url: "../html/ucenter/head.html",
            animation: {
              type: "movein", //动画类型（详见动画类型常量）
              subType: "from_right", //动画子类型（详见动画子类型常量）
              duration: 300, //动画过渡时间，默认300毫秒
            },
            pageParam: data,
          });
        }
      }
      function openMsg() {
        api.openWin({
          name: "msg_head",
          url: "../html/msg/msg_head.html",
        });
      }
      function startZhiChi() {
        if (!panduan()) {
        } else {
          var userinfo = $api.getStorage("userinfo");
          var param = {
            appkey: "345113f094c4441d90fe57b3de4cbb2d",
            userId: userinfo.userId,
            nickName: userinfo.nickname,
            avatarUrl: userinfo.avatarUrl,
            phone: "Your user phone",
            email: "Your email",
            customInfo: userinfo.signature,
            isShowEvaluate: false,
            isSettingSkillSet: false,
            skillSetId: "",
            isShowTansfer: true,
            titleFont: 18.0,
            backgroundColor: "#f0f0f0",
            topViewTextColor: "#FFFFFF",
            isCustomLinkClick: false,
            titleImgId: "#FFAA85",
            themeColor: "#FFAA85",
            customRobotHelloWord: "欢迎来到新感官音乐APP",
            rightChatColor: "#FFAA85",
          };

          function callBack(ret, err) {
            alert(
              "ret.type=" +
                ret.type +
                "\nvalue=" +
                ret.value +
                "\nret.desc=" +
                ret.desc
            );
          }

          var zhichi = api.require("zhiChiSobot");
          zhichi.startZhiChiSobot(param, callBack);
        }
      }

      function _setTimeOut(time) {
        time = time * 60000;
        console.log(time);
        setTimeout(function () {
          api.sendEvent({
            name: "paused",
          });
        }, time);
      }

      function openSetTime() {
        var dialogBox = api.require("dialogBox");
        dialogBox.evaluation(
          {
            styles: {
              bg: "#fff",
              w: 300,
              title: {
                marginT: 20,
                size: 25,
                color: "#000",
                bold: true,
              },
              content: {
                marginT: 20,
                color: "#111",
                size: 12,
              },
              buttons: [
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 0,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
                {
                  marginB: 50,
                  marginL: 0,
                  w: 300,
                  h: 35,
                  bg: "#fff",
                  color: "#007FFF",
                  size: 12,
                },
              ],
            },
            tapClose: true,
            texts: {
              title: "定时",
              content: "设置停止播放时间",
              buttons: [
                {
                  text: "不开启",
                },
                {
                  text: "10分钟",
                },
                {
                  text: "20分钟",
                },
                {
                  text: "30分钟",
                },
                {
                  text: "40分钟",
                },
                {
                  text: "50分钟",
                },
                {
                  text: "60分钟",
                },
              ],
            },
          },
          function (ret, err) {
            if (ret) {
              console.log(ret.index);
              if (ret.index == 0) {
                dialogBox.close({
                  dialogName: "evaluation",
                });
              } else {
                var time = ret.index * 10;
                _setTimeOut(time);
                api.toast({
                  msg: time + "分钟后停止音乐",
                  duration: 2000,
                  location: "bottom",
                });

                dialogBox.close({
                  dialogName: "evaluation",
                });
              }
            }
          }
        );
      }
    </script>
  </body>
</html>
